!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="js/",e(e.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.solution=[],this.currentLineIndex=0,this.currentLine=null,this.wordList=[],console.log("initGame"),this.gameBoard=document.querySelector(t),null==this.gameBoard&&console.error("Game Board Container not specified!"),this.svgCanvas=document.querySelector("#svg-canvas"),this.blueprintPath=e,this.openBlueprint(e),this.initLine=this.initLine.bind(this),this.moveLine=this.moveLine.bind(this),this.finishLine=this.finishLine.bind(this);var i=document.querySelector("#game-board");this.realWidth=i.getClientRects()[0].width,this.realHeight=i.getClientRects()[0].height}return t.prototype.getViewBox=function(t){this.boxWidth=t.viewBox.baseVal.width,this.boxHeight=t.viewBox.baseVal.height,this.radiusMatch=this.boxWidth/10},t.prototype.openBlueprint=function(t){var e=this,i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=new DOMParser,i=t.parseFromString(this.responseText,"text/xml"),n=i.querySelector("svg");e.getViewBox(n);var r=n.querySelectorAll("line");e.mountSolution(r)}},i.open("GET",t,!0),i.send()},t.prototype.mountSolution=function(t){var e=this;t.forEach(function(t,i){var n={x1:t.x1.baseVal.value,x2:t.x2.baseVal.value,y1:t.y1.baseVal.value,y2:t.y2.baseVal.value},r={word:t.id,active:!0};e.wordList.push(r),e.solution.push(n)}),console.log("wordList: ",this.wordList)},t.prototype.initLine=function(t){this.currentLineIndex+=1;var e={x1:t.layerX,y1:t.layerY,x2:t.layerX,y2:t.layerY},i='<line data-index="'+this.currentLineIndex+'" x1="'+e.x1+'" y1="'+e.y1+'" x2="'+e.x2+'" y2="'+e.y2+'" fill="none" stroke="#000" stroke-miterlimit="10" stroke-linecap="round" stroke-width="5%"/>';this.svgCanvas.innerHTML+=i,this.currentLine=this.svgCanvas.querySelector('line[data-index="'+this.currentLineIndex+'"]'),this.svgCanvas.addEventListener("mousemove",this.moveLine)},t.prototype.moveLine=function(t){this.currentLine.setAttribute("x2",t.layerX),this.currentLine.setAttribute("y2",t.layerY),this.svgCanvas.addEventListener("mouseup",this.finishLine)},t.prototype.finishLine=function(t){var e=this;this.svgCanvas.removeEventListener("mousemove",this.moveLine);var i={x1:this.boxWidth/this.realWidth*this.currentLine.x1.baseVal.value,y1:this.boxHeight/this.realHeight*this.currentLine.y1.baseVal.value,x2:this.boxWidth/this.realWidth*this.currentLine.x2.baseVal.value,y2:this.boxHeight/this.realHeight*this.currentLine.y2.baseVal.value},n={x1:this.boxWidth/this.realWidth*this.currentLine.x2.baseVal.value,y1:this.boxHeight/this.realHeight*this.currentLine.y2.baseVal.value,x2:this.boxWidth/this.realWidth*this.currentLine.x1.baseVal.value,y2:this.boxHeight/this.realHeight*this.currentLine.y1.baseVal.value};this.solution.forEach(function(t,r){var s=e.testLines(i,t),o=e.testLines(n,t);s||o?(e.currentLine.setAttribute("stroke","#e55377"),e.currentLine.setAttribute("stroke-opacity",.75),e.solution.splice(r,1)):e.currentLine.setAttribute("stroke-opacity",0)})},t.prototype.testLines=function(t,e){var i=!1,n=this.distance(t.x1,t.y1,e.x1,e.y1),r=this.distance(t.x2,t.y2,e.x2,e.y2);return n<=this.radiusMatch&&r<=this.radiusMatch&&(i=!0),i},t.prototype.distance=function(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))},t}();e.WordHunt=n}])});